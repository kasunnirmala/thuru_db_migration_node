var AWS = require('aws-sdk');
var fs=require("fs")
var accessKeyId =  "AKIARTHDQX4F2N7L2LAW";
var secretAccessKey = "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";

AWS.config.update({
    accessKeyId: accessKeyId,
    secretAccessKey: secretAccessKey
});

var s3 = new AWS.S3();
var image={
    _id:"test",
    image:"data:image/jpeg;base64,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"
};

  let base64Image = image.image.split(';base64,').pop();

  var params = {
    Bucket: 'thuru',
    Key: image._id+".jpeg",
    Body: new Buffer(base64Image,'base64'),
    ContentEncoding:'base64',
  };
// console.log(base64Image);
// fs.writeFileSync('image.png', base64Image, {encoding: 'base64'});
console.log(image._id);
s3.putObject(params, function (err, res) {
     if (err) {
       console.log("Error uploading data: ", err);
     } else {
       console.log("Successfully uploaded data.");
       console.log(res);
     }
   });